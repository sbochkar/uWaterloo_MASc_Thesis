%!TEX root = ../main.tex

\documentclass[../../main.tex]{subfiles}

\begin{document}
	\begin{tikzpicture}[scale=1]

		\draw [box] (1,0)--(8.5,1)--(8,5)--(5,6)--(0,5)--cycle;
		\draw [fill=gray, very thick] (2,3)--(4,1)--(7,2)--(4,3)--(5.5,4)--(3,5)--(2,3);

		\draw [->](0.8,3)--(1.8,3);
		
		\draw [->](2.2,5.2)--(3.8,5.2);
		\draw [->](2.2,1)--(3.8,1);
		
		\draw [->](4.2,1)--(5.3,1);
		\draw [->](4.2,5.2)--(5.3,5.2);
		\draw [->](4.2,3)--(5.3,3);

		\draw [->](5.7,3)--(6.7,3);
		\draw [->](5.7,1)--(6.7,1);

		\draw [->](7.2,3)--(8,3);

		\draw [dashed] (0,-0.25)--(0,6);
		\draw [dashed] (2,-0.25)--(2,6);
		\draw [dashed] (4,-0.25)--(4,6);
		\draw [dashed] (5.5,-0.25)--(5.5,6);
		\draw [dashed] (7,-0.25)--(7,6);
		\draw [dashed] (8.5,-0.25)--(8.5,6);

		\draw [<->] (0,-0.25)--(2,-0.25);
		\draw [<->] (2,-0.25)--(4,-0.25);
		\draw [<->] (4,-0.25)--(5.5,-0.25);
		\draw [<->] (5.5,-0.25)--(7,-0.25);
		\draw [<->] (7,-0.25)--(8.5,-0.25);

		\node [below] at (1,-0.25) {$x_1$};
		\node [below] at (3,-0.25) {$x_2$};
		\node [below] at (4.75,-0.25) {$x_3$};
		\node [below] at (6.25,-0.25) {$x_4$};
		\node [below] at (7.75,-0.25) {$x_5$};

		\node [above] at (0,6) {\small Open};
		\node [above] at (2,6) {\small Split};
		\node [above] at (4,6) {\small Open};
		\node [above] at (5.5,6) {\small Merge};
		\node [above] at (7,6) {\small Merge};
		\node [above] at (8.5,6.1) {\small Close};
	\end{tikzpicture}
\end{document}